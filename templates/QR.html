<!DOCTYPE HTML>
<html>
	<head>
		<title>Glasgow Science Centre</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://rawgit.com/schmich/instascan-builds/master/instascan.min.js"></script>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="{{ url_for('static',    filename='css/main.css') }}" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
  <body>

    <header id="header" class="alt">
      <img src="images/logo.jpeg" alt="" />
    </header>

      <h1><center>Please scan the QR code.</center></h1>

      <video id="preview"></video>
      <script type="text/javascript">
        let scanner = new Instascan.Scanner({ video: document.getElementById('preview') });
        scanner.addListener('scan', function (content) {
          var test = JSON.parse(content);
          window.location.href = '/exhibit?id=' + test['id'];

        });
        Instascan.Camera.getCameras().then(function (cameras) {
          if (cameras.length > 0) {
            scanner.start(cameras[0]);
          } else {
            console.error('No camera found.');
          }
        }).catch(function (e) {
          console.error(e);
        });
      </script>

  </body>

</html>
